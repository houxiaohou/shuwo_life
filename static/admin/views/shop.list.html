<h3>店铺列表</h3>

<div class="row">
  <div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-heading">店铺列表</div>
      <div class="panel-body">
        <p ng-show="loading" class="text-center"><i class="fa fa-spinner fa-spin fa-2x"></i></p>
        <table class="table table-striped table-hover" role="grid" ng-show="!loading">
          <thead>
          <tr role="row">
            <th>id</th>
            <th>授权码</th>
            <th>店铺logo</th>
            <th>店铺名称</th>
            <th>店铺地址</th>
            <th>联系人</th>
            <th>电话</th>
            <th>营业中</th>
            <th>操作</th>
          </tr>
          </thead>
          <tbody>
          <tr role="row" ng-class-odd="'odd'" ng-class-even="'even'" ng-repeat="s in shopes">
            <td>{{s.shopid}}</td>
            <td>{{s.shopsn}}</td>
            <td>
              <img ng-src="{{s.simgurl}}" alt="" ng-show="s.simgurl.length>0" width="60"/>
            </td>
            <td>{{s.spn}}</td>
            <td>{{s.spadr}}</td>
            <td>{{s.contacts}}</td>
            <td>{{s.phone}}</td>
            <td>
              <label class="switch">
                <input type="checkbox" ng-model="s.isopen" ng-change="changeShopStatus(s);">
                <span></span>
              </label>
            </td>
            <td class="op">
              <i class="fa fa-trash" ng-click="selectShop(s.shopid);" bs-popover data-template="confirmRemove.html" data-animation="am-flip-x"></i>
              <a ui-sref="shuwo.shop.edit({id:s.shopid})" tooltip="编辑店铺"><i class="fa fa-edit"></i></a>
              <a ui-sref="shuwo.shop.detail({id:s.shopid})" tooltip="详细信息"><i class="fa fa-info-circle"></i></a>
              <a ui-sref="shuwo.shop.product.list({id:s.shopid})" tooltip="产品列表"><i class="fa fa-list"></i></a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="panel-footer">
        <a ui-sref="shuwo.shop.add" class="btn btn-success btn-sm"><i class="fa fa-plus"></i> 添加店铺</a>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="confirmRemove.html">
  <div class="popover" tabindex="-1">
    <div class="arrow"></div>
    <h3 class="popover-title">确认删除？</h3>

    <div class="popover-content text-center">
      <form name="changeGroupNameForm">
        <div class="text-center">
          <button type="button" class="btn btn-danger btn-sm" style="width: 45%;" ng-click="removeShop(this)">删除
          </button>
          <button type="button" class="btn btn-default btn-sm" style="width: 45%;"
                  ng-click="$event.preventDefault();$hide();">取消
          </button>
        </div>
      </form>
    </div>
  </div>
</script>
